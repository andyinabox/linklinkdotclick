<body is="page-home" class="page-home" {{ if .EditMode }}class="editing"{{end}}>
  <header>
    <h1>{{ .User.SiteTitle }}</h1>
  </header>
  <main>
    {{ template "link-list.html.tmpl" . }}
  </main>
  <footer id="link-global-options">
    {{ template "form-edit-mode.html.tmpl" . }}
    {{ template "form-add-link.html.tmpl" . }}
    <form class="flex-form-row" method="post" action="/session">
      {{ if .IsDefaultUser  }}
      <input type="email" name="email" placeholder="you@example.com">
      <button id="btn-login" class="btn-login" name="btn-login" type="submit" value="1">Login/Signup</button>
      {{ else }}
      <button id="btn-logout" class="btn-logout" name="btn-logout" type="submit" value="1">Logout</button>
      {{ end }}
    </form>
  </footer>

  {{ if not .IsDefaultUser  }}
  <section id="user-settings">
    <h2>Settings</h2>
    <form class="flex-form-row" method="post" action="/users">
      <label for="input-site-title">Site Name:</label>
      <input id="input-site-title" name="site-title" type="text" value={{ .User.SiteTitle }} required>
      <button id="btn-edit-site-title" class="btn-submit" type="submit">Save</button>
    </form>
    <h2>Styles</h2>
    {{ template "form-style-editor.html.tmpl" .User }}
    <h2>Data Import/Export</h2>
    <form class="flex-form-row" method="post" enctype="multipart/form-data" action="/opml">
      <label for="opml-file">Import OPML:</label>
      <input type="file" id="opml-file" accept=".xml,.opml" name="opml_file" required>
      <button id="btn-upload-opml" class="btn-upload" type="submit">Upload</button>
    </form>
    <form class="flex-form-row" method="get" action="/opml">
      <label for="btn-download-opml">Export OPML:</label>
      <button id="btn-download-opml" class="btn-download" type="submit">Download</button>
    </form>
  </section>
  {{ end  }}
</body>